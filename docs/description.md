# Техническое задание

> Сервис предоставляет возможность по организации различными клиентами турниров по киберспорту по системе double elimination. Организатор турнира имеет возможность создать турнир, а команды подать заявку на участие в нем. Сетка должна генерироваться автоматически исходя из количества команд. Организатор имеет право вносить туда результаты. По результатам соревнования должны выводится итоговые места.

## Дополнительные требования:

1. Валидация API на стороне сервера
2. Логгирование в базу данных Mongo
3. Документация с использование Swagger
4. Добавить Unit-тесты на Jest

## Роли:

1. admin - администратор
2. manager - организатор
3. participant - участник

## Возможности администратора:

1. Создать аккаунт организатора используя email/password
2. Изменять назначенную пользователю роль
3. Все остальные действия, доступные другим ролям, относительно рассматриваемых объектов + свободное удаление и изменение ресурсов

## Возможности организатора:

1. Создать турнир, задав количество участников (является степенью двойки) и максимальный/минимальный размер команд
2. Просмотреть стадию и номер тура турнира
3. Внести результаты по матчу на текущей стадии турнира
4. Перевести турнир на следующую стадию, если это возможно

## Возможности участника:

1. Зарегистрироваться в системе, используя email/password
2. Зарегистрировать команду или войти в существующую согласно пригласительному JWT
3. Изменить данные пользовательского профиля
4. Если создатель команды:
   1. Получить пригласительный JWT
   2. Изменить данные командного профиля
   3. Подать заявку на участие в турнире
      1. Проверяется количество участников
      2. Команда не может принимать участие в турнире дважды
   4. Удалить команду
      1. Создатель команды не может выйти из неё, и может только удалить
      2. Удалить команду может только создатель
      3. Все участники команды автоматически покидают её
      4. Во всех турнирах, в которых участвует команда, происходит автоматическая дисквалификация (проигрыш) в матчах на текущем туре. 
         1. В случае, если команда успела победить в каком-либо матче в текущем туре, ей всё равно засчитывается проигрыш - в обратном случае эта команда могла быть допущена на следующий этап, что невозможно.
         2. Дисквалификация происходит только на текущем туре соревнования, однако турнирные данные из предыдущих туров не изменяются. То есть история никогда не изменяется задним числом дальше, чем в рамках текущего тура. Как только тур завершён и начинается новый, предыдущий считается заблокированным для записи.
5. Если участник команды:
   1. Выйти из команды
      1. При этом проверяется корректность числа участников для турниров и, в случае несоответсвия, происходит дисквалификация

## Возможности любого пользователя:

1. Авторизоваться в системе, используя email/password
2. Просмотреть список турниров
3. Просмотреть список пользователей
4. Просмотреть список команд
5. Просмотреть список команд относительно турнира
6. Просмотреть турнирую сетку того или иного турнира
7. Просмотреть список первых трёх победителей в случае, если турнир является завершённым

